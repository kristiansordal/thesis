\chapter{Results} \label{results}

\section{Theoretical Maximum}
As has been established, the maximum performance scales with the available memory bandwidth of the system, and not with the amount of processes used. For SpMV, a total of 6 bytes are read per FLOP, which means that the theoretical maximum is given by \ref{eq:theoretical_max}. This is under the assumption that all resources on the system is dedicated to the SpMV operation, which is not the case in reality. At most, somewhere in the neighbourhood of 80\% of the systems resources can be expected to be utilized.

\begin{equation}
\text{Maximum Theoretical Performance} = \frac{\text{Memory bandwidth}}{6}
\label{eq:theoretical_max}
\end{equation}


\section{Matrices}

\begin{figure}[htbp]
  \centering
  \captionsetup[sub]{font=tiny, textfont=tiny}
  \setlength{\tabcolsep}{4pt} % adjust horizontal padding between columns
  \begin{tabular}{cccc}
      \subcaptionbox{\tiny{bone010}\label{fig:bone010}}{%
      \includegraphics[width=0.23\textwidth]{bone010.png}%
    } &
    \subcaptionbox{\tiny{af\_shell10}\label{fig:af_shell10}}{%
      \includegraphics[width=0.23\textwidth]{af_shell10.png}%
    } &
    \subcaptionbox{\tiny{Serena}\label{fig:Serena}}{%
      \includegraphics[width=0.23\textwidth]{Serena.png}%
    } &
    \subcaptionbox{\tiny{Long\_Coup\_dt0}\label{fig:Long_Coup_dt0}}{%
      \includegraphics[width=0.23\textwidth]{Long_Coup_dt0.png}%
    } \\[6pt] % a little extra vertical gap
    \subcaptionbox{\tiny{dielFilterV3real}\label{fig:dielFilterV3real}}{%
      \includegraphics[width=0.23\textwidth]{dielFilterV3real.png}%
    } &
    \subcaptionbox{\tiny{Cube\_Coup\_dt0}\label{fig:Cube_Coup_dt0_1}}{%
      \includegraphics[width=0.23\textwidth]{Cube_Coup_dt0.png}%
    } &
    \subcaptionbox{\tiny{Bump\_2911}\label{fig:Bump_2911}}{%
      \includegraphics[width=0.23\textwidth]{Bump_2911.png}%
    } &
    \subcaptionbox{\tiny{nlpkkt200}\label{fig:nlpkkt200}}{%
      \includegraphics[width=0.23\textwidth]{nlpkkt200.png}%
    }
  \end{tabular}
  \caption{Overview of all eight images.}
  \label{fig:all_images}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{Lynx144.png}
    \caption{SpMV performance with 1 process vs 2 processes per node on Lynx144}
    \label{fig:lynx144gflops}
\end{figure}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.95\textwidth]{delaunay_n24.png}
    \caption{SpMV performance with 1 process vs 2 processes per node on delaynay\_n24}
    \label{fig:delaunayflops}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{rgg_n_2_24_s0}
    \end{center}
    \caption{SpMV performance with 1 process vs 2 processes per node on rgg\_n\_2\_24\_s0}
    \label{fig:rgg_n_2_24_s0}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{road_usa}
    \end{center}
    \caption{SpMV performance with 1 process vs 2 processes per node on road\_usa}
    \label{fig:road_usa}
\end{figure}


\section{GFLOPS \romeq}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Serena_rome16q}
    \end{center}
    \caption{Serena}
    \label{fig:Serena_rome16q}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{bone010_rome16q}
    \end{center}
    \caption{bone010}
    \label{fig:bone010_rome16q}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{af_shell10_rome16q}
    \end{center}
    \caption{af\_shell10}
    \label{fig:af_shell10_rome16q}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Bump_2911_rome16q}
    \end{center}
    \caption{Bump\_2911}
    \label{fig:Bump_2911_rome16q}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Cube_Coup_dt0_rome16q}
    \end{center}
    \caption{Cube\_Coup\_dt0}
    \label{fig:Cube_Coup_dt0_rome16q}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{dielFilterV3real_rome16q}
    \end{center}
    \caption{dielFilterV3real}
    \label{fig:dielFilterV3real_rome16q}
\end{figure}

% \section{GFLOPS \fpgaq}


\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Long_Coup_dt0_rome16q}
    \end{center}
    \caption{Long\_Coup\_dt0}
    \label{fig:Long_Coup_dt0_rome16q}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{nlpkkt200_rome16q}
    \end{center}
    \caption{nlpkkt200}
    \label{fig:nlpkkt200_rome16q}
\end{figure}




\section{GFLOPS \fpgaq}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Serena_fpgaq}
    \end{center}
    \caption{Serena}
    \label{fig:Serena_fpgaq}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{bone010_fpgaq}
    \end{center}
    \caption{bone010}
    \label{fig:bone010_fpgaq}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{af_shell10_fpgaq}
    \end{center}
    \caption{af\_shell10}
    \label{fig:af_shell10_fpgaq}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Bump_2911_fpgaq}
    \end{center}
    \caption{Bump\_2911}
    \label{fig:Bump_2911_fpgaq}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Cube_Coup_dt0_fpgaq}
    \end{center}
    \caption{Cube\_Coup\_dt0}
    \label{fig:Cube_Coup_dt0_fpgaq}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{dielFilterV3real_fpgaq}
    \end{center}
    \caption{dielFilterV3real}
    \label{fig:dielFilterV3real_fpgaq}
\end{figure}


\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Long_Coup_dt0_fpgaq}
    \end{center}
    \caption{Long\_Coup\_dt0}
    \label{fig:Long_Coup_dt0_fpgaq}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{nlpkkt200_fpgaq}
    \end{center}
    \caption{nlpkkt200}
    \label{fig:nlpkkt200_fpgaq}
\end{figure}


% \begin{figure}[H]
%     \begin{center}
%         \includegraphics[width=0.95\textwidth]{Serena_defq_commload_single.png}
%     \end{center}
%     \title{Communication load serena \defq}
%     \caption{}
%     \label{fig:Serena_defq_commload_single.png}
% \end{figure}

% \begin{figure}[H]
%     \begin{center}
%         \includegraphics[width=0.95\textwidth]{bone010_defq_commload_single.png}
%     \end{center}
%     \caption{}
%     \label{fig:bone010_defq_commload_single.png}
% \end{figure}

% \begin{figure}[H]
%     \begin{center}
%         \includegraphics[width=0.95\textwidth]{nlpkkt200_defq_commload_single.png}
%     \end{center}
%     \caption{}
%     \label{fig:nlpkkt200_defq_commload_single.png}
% \end{figure}


\subsection{Communication time}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Serena_tcomm_single_defq.png}
    \end{center}
    \caption{}
    \label{fig:Serena_tcomm_single_defq.png}
\end{figure}


\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{bone010_tcomm_single_defq.png}
    \end{center}
    \caption{}
    \label{fig:bone010_tcomm_single_defq.png}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{nlpkkt200_tcomm_single_defq.png}
    \end{center}
    \caption{}
    \label{fig:nlpkkt200_tcomm_single_defq.png}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Bump_2911_tcomm_single_defq.png}
    \end{center}
    \caption{}
    \label{fig:Bump_2911_tcomm_single_defq.png}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{af_shell10_tcomm_single_defq.png}
    \end{center}
    \caption{}
    \label{fig:af_shell10_tcomm_single_defq.png}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{dielFilterV3real_tcomm_single_defq.png}
    \end{center}
    \caption{}
    \label{fig:dielFilterV3real_tcomm_single_defq.png}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Cube_Coup_dt0_tcomm_single_defq.png}
    \end{center}
    \caption{}
    \label{fig:Cube_Coup_dt0_tcomm_single_defq.png}
\end{figure}

\begin{figure}[H]
    \begin{center}
        \includegraphics[width=0.95\textwidth]{Long_Coup_dt0_tcomm_single_defq.png}
    \end{center}
    \caption{}
    \label{fig:Long_Coup_dt0_tcomm_single_defq.png}
\end{figure}

\input{CPUtable}

